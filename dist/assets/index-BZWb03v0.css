:root{--bg: #0a0a1a;--bg2: #111128;--bg3: #1a1a3e;--panel: #16163a;--gold: #d4a843;--text: #e0ddd4;--dim: #777;--fire: #e84430;--earth: #8b6914;--wind: #30b8c8;--shadow: #7030a0;--light: #e8d44d;--arcane: #a855f5;--common: #aaa;--rare: #4488ff;--epic: #a855f5;--legendary: #ff8800;--mana-blue: #2980b9}body{font-family:Segoe UI,Tahoma,sans-serif;background:var(--bg);color:var(--text);min-height:100vh;overflow-x:hidden}button{font-family:inherit;cursor:pointer;border:none;padding:8px 18px;border-radius:4px;font-size:14px;transition:all .15s}input,select,textarea{font-family:inherit;background:var(--bg);color:var(--text);border:1px solid #444;border-radius:4px;padding:6px 10px;font-size:13px}select{appearance:auto}::-webkit-scrollbar{width:6px}::-webkit-scrollbar-track{background:var(--bg)}::-webkit-scrollbar-thumb{background:#444;border-radius:3px}.btn-primary{background:linear-gradient(135deg,#2a5a8f,#1a3a6f);color:#fff;font-size:16px;padding:12px 32px;border:1px solid #3a6aaf;transition:transform .15s,box-shadow .15s}.btn-primary:hover{background:linear-gradient(135deg,#3a6aaf,#2a4a8f);box-shadow:0 0 15px #3c78c84d;transform:scale(1.04)}.btn-primary:active{transform:scale(.97)}.btn-secondary{background:var(--bg3);color:var(--text);border:1px solid #555}.btn-secondary:hover{background:#252560;border-color:var(--gold)}.btn-sm{padding:5px 12px;font-size:12px}.btn-danger{background:#6a1a1a;color:#faa;border:1px solid #a33}.btn-danger:hover{background:#8a2a2a}h1{font-size:2.4em;color:var(--gold);text-shadow:0 0 30px rgba(212,168,67,.3),0 0 60px rgba(212,168,67,.15);margin-bottom:8px;letter-spacing:2px;animation:titleGlow 3s ease-in-out infinite}@keyframes titleGlow{0%,to{text-shadow:0 0 20px rgba(212,168,67,.3),0 0 40px rgba(212,168,67,.1)}50%{text-shadow:0 0 35px rgba(212,168,67,.5),0 0 70px rgba(212,168,67,.25)}}h2{color:var(--gold);margin-bottom:12px}h3{color:var(--gold);margin-bottom:8px;font-size:1.1em}.subtitle{color:var(--dim);font-style:italic;margin-bottom:30px}.game-screen{padding:0;height:100vh;overflow:hidden;display:flex;flex-direction:column;align-items:stretch}.game-middle{display:flex;flex:1;overflow:hidden}.board-wrap{flex:1;display:flex;align-items:center;justify-content:center;padding:10px;overflow:auto;position:relative;min-width:0}.board{display:grid;grid-template-columns:repeat(7,1fr);grid-template-rows:repeat(5,1fr);gap:3px;width:100%;max-width:980px;height:100%;max-height:700px;background:#222;border:2px solid #3a3a6a;border-radius:6px;padding:3px;box-shadow:0 0 30px #1e1e5066}.cell{position:relative;background:var(--bg3);border-radius:3px;cursor:pointer;display:flex;flex-direction:column;align-items:center;justify-content:center;font-size:11px;transition:all .12s;overflow:hidden;min-height:40px}.cell:hover{filter:brightness(1.2);z-index:1}.terrain-icon{position:absolute;inset:0;display:flex;align-items:center;justify-content:center;pointer-events:none;opacity:.55;transition:opacity .2s}.terrain-icon svg{width:65%;height:65%}.cell:hover .terrain-icon{opacity:.35}.cell.t-plain{background:linear-gradient(170deg,#4a7a4a,#3a6a3a 40%,#4a7a4a);background-image:repeating-linear-gradient(90deg,transparent,transparent 4px,rgba(0,0,0,.08) 4px,rgba(0,0,0,.08) 5px),linear-gradient(170deg,#4a7a4a,#3a6a3a,#4a7a4a)}.cell.t-forest{background:linear-gradient(180deg,#0e3a0e,#1a5a1a,#0e3a0e);background-image:radial-gradient(ellipse at 25% 30%,#104010 0%,transparent 45%),radial-gradient(ellipse at 65% 25%,#104010 0%,transparent 40%),radial-gradient(ellipse at 45% 50%,#0c4a0c 0%,transparent 35%),linear-gradient(180deg,#0e3a0e,#1a5a1a);box-shadow:inset 0 0 16px #00640099}.cell.t-mountain{background:linear-gradient(180deg,#7a7a8a,#5a5a6a 30%,#3a3a4a);background-image:linear-gradient(135deg,rgba(255,255,255,.12) 25%,transparent 25%,transparent 50%,rgba(255,255,255,.08) 50%,rgba(255,255,255,.08) 75%,transparent 75%),linear-gradient(180deg,#7a7a8a,#3a3a4a);box-shadow:inset 0 -8px 16px #0009,inset 0 3px 6px #ffffff1f}.cell.t-water{background:linear-gradient(90deg,#1a4090,#2a5aaa,#1a4090);background-size:200% 100%;animation:waterRipple 4s ease-in-out infinite;box-shadow:inset 0 0 22px #1e78dc73}@keyframes waterRipple{0%,to{background-position:0% 50%}50%{background-position:100% 50%}}.cell.t-swamp{background:linear-gradient(180deg,#2e4220,#1e3015 60%,#2e4220);background-image:radial-gradient(circle at 30% 70%,rgba(90,120,0,.35) 0%,transparent 40%),radial-gradient(circle at 70% 40%,rgba(70,90,0,.3) 0%,transparent 35%),linear-gradient(180deg,#2e4220,#1e3015,#2e4220);box-shadow:inset 0 0 16px #505a0080}.cell.t-hill{background:linear-gradient(180deg,#7a7a44,#6a6a34,#5a5a28);box-shadow:inset 0 -5px 12px #00000059,inset 0 3px 5px #ffffc81a}.cell.t-volcano{background:radial-gradient(ellipse at 50% 60%,#8a3010,#5a2018,#30100a);box-shadow:inset 0 0 24px #ff500066;animation:volcanoGlow 2.5s ease-in-out infinite}@keyframes volcanoGlow{0%,to{box-shadow:inset 0 0 18px #ff50004d}50%{box-shadow:inset 0 0 32px #ff821e8c}}.cell.t-ruins{background:linear-gradient(135deg,#3e2e55,#524068,#3e2e55);background-image:repeating-linear-gradient(0deg,transparent,transparent 6px,rgba(168,85,245,.06) 6px,rgba(168,85,245,.06) 7px),linear-gradient(135deg,#3e2e55,#524068,#3e2e55);animation:ruinsShimmer 4s ease-in-out infinite}@keyframes ruinsShimmer{0%,to{box-shadow:inset 0 0 12px #a855f540}50%{box-shadow:inset 0 0 26px #a855f580}}.cell.h-1:before,.cell.h-2:before,.cell.h-3:before{content:"";position:absolute;inset:0;pointer-events:none;border-radius:3px;z-index:1}.cell.h-1:before{box-shadow:inset 0 -3px 6px #0000004d,inset 0 1px 2px #ffffff0f;border-bottom:1px solid rgba(0,0,0,.2)}.cell.h-2:before{box-shadow:inset 0 -5px 10px #0006,inset 0 2px 4px #ffffff1a;border-bottom:2px solid rgba(0,0,0,.25)}.cell.h-3:before{box-shadow:inset 0 -7px 14px #00000080,inset 0 3px 6px #ffffff24;border-bottom:3px solid rgba(0,0,0,.3)}.cell.hl-deploy{box-shadow:inset 0 0 0 2px #4a4,0 0 8px #3cc83c4d}.cell.hl-move{box-shadow:inset 0 0 0 2px #48f,0 0 8px #3c64ff4d}.cell.hl-attack{box-shadow:inset 0 0 0 2px #f44,0 0 8px #ff3c3c66}.cell.hl-selected{box-shadow:inset 0 0 0 2px var(--gold),0 0 12px #d4a84366}.cell.drag-valid{animation:dragPulse 1s ease-in-out infinite;z-index:2}.cell.drag-valid:after{content:"";position:absolute;inset:0;border:2px solid rgba(60,220,60,.6);border-radius:3px;pointer-events:none}@keyframes dragPulse{0%,to{box-shadow:inset 0 0 8px #3cdc3c33}50%{box-shadow:inset 0 0 18px #3cdc3c73}}.cell.drag-hover{transform:scale(1.08);box-shadow:inset 0 0 20px #3cff3c80,0 0 12px #3cdc3c66!important;z-index:3}.cell.drag-invalid{opacity:.4;filter:saturate(.3)}.unit-token{display:flex;flex-direction:column;align-items:center;justify-content:center;width:90%;height:85%;border-radius:4px;border:2px solid #888;font-size:10px;font-weight:700;line-height:1.2;text-align:center;position:relative;padding:1px}.unit-token.owner-0{border-color:#4a8af5;background:#1e3c78b3}.unit-token.owner-1{border-color:#f54a4a;background:#781e1eb3}.unit-token .u-name{font-size:0;opacity:0;position:absolute;top:-18px;left:50%;transform:translate(-50%);background:#000000d9;color:var(--text);padding:2px 6px;border-radius:3px;white-space:nowrap;pointer-events:none;transition:opacity .15s,font-size 0s;z-index:10}.unit-token:hover .u-name{font-size:9px;opacity:1}.unit-token .u-stats{display:flex;justify-content:space-between;width:100%;position:absolute;bottom:0;left:0;right:0;padding:0 2px}.unit-token .u-atk{color:#fff;font-size:9px;font-weight:700;background:#c83232b3;padding:0 3px;border-radius:2px;line-height:1.4}.unit-token .u-hp{color:#fff;font-size:9px;font-weight:700;background:#32a032b3;padding:0 3px;border-radius:2px;line-height:1.4}.unit-token .u-stars{color:var(--gold);font-size:8px;position:absolute;top:0;right:2px}.unit-token .u-kw{position:absolute;top:0;left:2px;display:flex;gap:1px}.unit-token .u-kw .kw-icon{width:10px;height:10px;border-radius:50%;display:flex;align-items:center;justify-content:center;font-size:6px;background:#0009;color:#ddd;line-height:1}.unit-token.is-structure{border-style:dashed;border-color:#aaa}.unit-token.exhausted{opacity:.6}.u-art{width:36px;height:36px;margin:0 auto 1px}.u-art svg{width:100%;height:100%}.player-bar{display:flex;align-items:center;gap:15px;padding:8px 15px;background:linear-gradient(90deg,var(--bg2),#161638,var(--bg2));border-image:linear-gradient(90deg,transparent,#3a3a6a,transparent) 1;min-height:60px;flex-wrap:wrap}.player-bar.p2{border-bottom:2px solid;border-image:linear-gradient(90deg,transparent,#3a3a6a,transparent) 1}.player-bar.p1{border-top:2px solid;border-bottom:none;border-image:linear-gradient(90deg,transparent,#3a3a6a,transparent) 1}.titan-portrait{width:44px;height:44px;border-radius:50%;display:flex;align-items:center;justify-content:center;font-size:22px;font-weight:700;border:2px solid var(--gold);box-shadow:0 0 10px #d4a84333}.hp-bar-outer{width:140px;height:18px;background:#222;border-radius:9px;overflow:hidden;border:1px solid #555;box-shadow:inset 0 1px 3px #00000080}.hp-bar-inner{height:100%;background:linear-gradient(90deg,#8b1a1a,#c0392b,#e74c3c);transition:width .3s;border-radius:9px;display:flex;align-items:center;justify-content:center;font-size:11px;font-weight:700;min-width:20px;text-shadow:0 1px 2px #000}.energy-display{font-size:1.1em;font-weight:700;color:var(--mana-blue, #4a9eff)}.deploy-display{font-size:.9em;color:var(--gold)}.titan-ability-btn{padding:4px 10px;font-size:12px;background:#2a2a5a;color:var(--arcane);border:1px solid var(--arcane);border-radius:4px}.titan-ability-btn:hover{background:#3a3a7a}.titan-ability-btn:disabled{opacity:.4;cursor:not-allowed}.sidebar{width:220px;background:linear-gradient(180deg,var(--bg2) 0%,#0d0d22 100%);border-left:2px solid #2a2a5a;display:flex;flex-direction:column;overflow:hidden;flex-shrink:0}.phase-section{padding:10px;border-bottom:1px solid #333}.phase-list{display:flex;flex-direction:column;gap:3px;margin:8px 0}.phase-item{padding:4px 8px;border-radius:3px;font-size:12px;color:var(--dim);background:var(--bg)}.phase-item.active{background:var(--bg3);color:var(--gold);font-weight:700;border:1px solid var(--gold);position:relative;overflow:hidden}.phase-item.active:after{content:"";position:absolute;left:0;bottom:0;height:2px;background:linear-gradient(90deg,var(--gold),#fff8,var(--gold));animation:phaseProgress 1.5s ease-out forwards;width:100%}@keyframes phaseProgress{0%{width:0;opacity:0}20%{opacity:1}to{width:100%}}.phase-item.done{color:#555;text-decoration:line-through}.log-section{flex:1;overflow-y:auto;padding:10px;font-size:11px}.log-section .log-entry{padding:3px 0;border-bottom:1px solid #1a1a2a;color:var(--dim)}.log-section .log-entry:last-child{color:var(--text)}.hand-section{display:flex;align-items:center;gap:6px;padding:8px 12px;background:linear-gradient(180deg,var(--bg2),#0d0d22);border-top:2px solid;border-image:linear-gradient(90deg,transparent,#3a3a6a,transparent) 1;overflow-x:auto;min-height:150px}@media(max-width:900px){.sidebar{width:160px}.card{width:90px;min-width:90px;height:130px}.sidebar .phase-item{font-size:10px}.board{max-width:100%;max-height:500px}.hp-bar-outer{width:100px}.titan-portrait{width:36px;height:36px;font-size:18px}}@media(max-width:700px){.sidebar{display:none}.board{max-height:400px;gap:2px}.cell{min-height:30px;font-size:9px}.unit-token .u-atk,.unit-token .u-hp{font-size:7px}.player-bar{padding:6px 10px;gap:10px;min-height:50px}.hand-section{min-height:120px;padding:6px}.card{width:70px;min-width:70px;height:105px}}@media(max-width:480px){.game-screen{overflow:auto}.board{max-height:320px}.cell{min-height:25px}.player-bar{flex-wrap:wrap;gap:5px}.player-bar>*:not(.titan-portrait):not(.hp-bar-outer){font-size:11px}.hp-bar-outer{width:80px;height:14px}.hp-bar-inner{font-size:9px}.hand-section{min-height:100px;gap:4px}.card{width:60px;min-width:60px;height:90px}.unit-token{width:95%;height:90%}.u-art{width:24px;height:24px}}@media(hover:none){.cell:hover{filter:none}.cell:active{filter:brightness(1.3)}.unit-token:hover .u-name{display:none}.card:hover{transform:none}}.card{width:110px;min-width:110px;height:155px;background:var(--panel);border:2px solid #555;border-radius:6px;padding:5px;cursor:pointer;transition:all .15s;display:flex;flex-direction:column;font-size:10px;position:relative;flex-shrink:0}.card:hover{transform:translateY(-6px);z-index:5;box-shadow:0 6px 20px #00000080}.card.selected{transform:translateY(-10px);border-color:var(--gold);box-shadow:0 0 15px #d4a84366}.card .c-cost{position:absolute;top:3px;left:5px;background:var(--mana-blue, #2980b9);color:#fff;width:20px;height:20px;border-radius:50%;display:flex;align-items:center;justify-content:center;font-weight:700;font-size:11px}.card .c-name{text-align:center;font-weight:700;font-size:10px;margin-top:20px;white-space:nowrap;overflow:hidden;text-overflow:ellipsis}.card .c-art{flex:1;display:flex;align-items:center;justify-content:center;margin:3px 0;border-radius:3px;font-size:20px;min-height:30px;overflow:hidden}.card .c-art svg{width:100%;height:100%;max-height:50px}.card .c-type{font-size:8px;text-align:center;color:var(--dim)}.card .c-text{font-size:8px;color:#bbb;text-align:center;flex:1;overflow:hidden;line-height:1.3;margin:2px 0}.card .c-bottom{display:flex;justify-content:space-between;align-items:center;margin-top:auto}.card .c-atk{color:#f88;font-weight:700;background:#c8323233;padding:1px 5px;border-radius:3px}.card .c-hp{color:#8f8;font-weight:700;background:#32c83233;padding:1px 5px;border-radius:3px}.card .c-elem-badge{font-size:8px;padding:1px 4px;border-radius:8px;color:#fff;font-weight:700}.card.elem-fire{border-color:var(--fire)}.card.elem-earth{border-color:var(--earth)}.card.elem-wind{border-color:var(--wind)}.card.elem-shadow{border-color:var(--shadow)}.card.elem-light{border-color:var(--light)}.card.elem-arcane{border-color:var(--arcane)}.card.rarity-common{border-color:#666}.card.rarity-rare{border-color:#48f;box-shadow:inset 0 0 12px #48f3,0 0 6px #4488ff1f}.card.rarity-epic{border-color:#a855f5;box-shadow:inset 0 0 14px #a855f538,0 0 8px #a855f526}.card.rarity-legendary{border-width:3px;border-color:#f80;box-shadow:inset 0 0 18px #ffa00040,0 0 12px #ffc8002e;animation:legendaryGlow 3s ease-in-out infinite}@keyframes legendaryGlow{0%,to{box-shadow:inset 0 0 15px #ff880040,0 0 8px #ffc8001f}50%{box-shadow:inset 0 0 28px #ffc80059,0 0 16px #ffdc3238}}.card.unplayable{opacity:.5}.overlay{position:fixed;inset:0;background:#000000d9;display:none;align-items:center;justify-content:center;z-index:100;flex-direction:column;gap:20px}.overlay.active{display:flex}.overlay h2{font-size:2em;color:var(--gold);animation:overlaySlideIn .5s ease-out}@keyframes overlaySlideIn{0%{transform:translateY(-40px) scale(.9);opacity:0}to{transform:translateY(0) scale(1);opacity:1}}@keyframes pulse{0%,to{transform:scale(1);box-shadow:0 0 #d4a84366}50%{transform:scale(1.02);box-shadow:0 0 0 10px #d4a84300}}.v-spark{position:absolute;border-radius:50%;animation:vSparkle var(--dur, 2s) ease-out forwards}@keyframes vSparkle{0%{transform:translate(0) scale(1);opacity:1}to{transform:translate(var(--vx,0),var(--vy,-200px)) scale(0);opacity:0}}.tooltip{position:fixed;background:var(--bg2);border:1px solid var(--gold);border-radius:6px;padding:10px 14px;font-size:12px;max-width:280px;z-index:200;pointer-events:none;display:none;line-height:1.5;box-shadow:0 4px 20px #0009}.tooltip .tt-title{font-weight:700;color:var(--gold);margin-bottom:4px}.tooltip .tt-stats{color:#aaa;font-size:11px}.tooltip .tt-text{margin-top:4px}.dmg-popup{position:absolute;font-size:18px;font-weight:700;color:#f44;text-shadow:0 0 6px #000;animation:dmgFloat .8s ease-out forwards;z-index:50;pointer-events:none}.dmg-popup.heal{color:#4f4}@keyframes dmgFloat{0%{opacity:1;transform:translateY(0)}to{opacity:0;transform:translateY(-30px)}}.vet-popup{position:absolute;font-size:12px;font-weight:700;color:var(--gold);text-shadow:0 0 8px rgba(212,168,67,.6);animation:vetFlash 1s ease-out forwards;z-index:50;pointer-events:none}@keyframes vetFlash{0%{opacity:1;transform:scale(1)}50%{transform:scale(1.3)}to{opacity:0;transform:scale(1)}}.particle{position:absolute;pointer-events:none;z-index:2}.fire-p{width:3px;height:3px;background:#f84;border-radius:50%;bottom:30%;animation:fireFloat 1.2s ease-out infinite}.fire-p:nth-child(odd){animation-delay:.4s;background:#fc6;width:2px;height:2px}@keyframes fireFloat{0%{opacity:.9;transform:translateY(0) scale(1)}60%{opacity:.5}to{opacity:0;transform:translateY(-18px) scale(.2)}}.leaf-p{width:4px;height:3px;background:#4a3;border-radius:40% 0;top:10%;animation:leafDrift 5s ease-in-out infinite}@keyframes leafDrift{0%{transform:translate(0) rotate(0);opacity:.6}30%{transform:translate(8px,10px) rotate(120deg)}60%{transform:translate(3px,22px) rotate(240deg);opacity:.4}to{transform:translate(-3px,30px) rotate(400deg);opacity:0}}.water-p{width:6px;height:2px;background:#78b4ff33;border-radius:50%;animation:waterShine 3.5s ease-in-out infinite;top:45%}@keyframes waterShine{0%,to{transform:translate(-3px) scaleX(.8);opacity:.2}50%{transform:translate(5px) scaleX(1.4);opacity:.45}}.swamp-p{width:4px;height:4px;background:#6478004d;border-radius:50%;bottom:25%;animation:swampBub 4s ease-in-out infinite}@keyframes swampBub{0%,85%,to{transform:scale(0);opacity:0}40%{transform:scale(1);opacity:.45}50%{transform:scale(1.15);opacity:.2}52%{transform:scale(0);opacity:0}}.effect-poison:after{content:"";position:absolute;bottom:0;left:35%;width:3px;height:3px;background:#4f4;border-radius:50%;animation:poisonDrip 1s infinite;z-index:3}@keyframes poisonDrip{0%{transform:translateY(-4px);opacity:.9}to{transform:translateY(10px);opacity:0}}.effect-divine-shield:before{content:"";position:absolute;inset:-3px;border:2px solid rgba(255,215,0,.5);border-radius:6px;animation:dsShimmer 2s ease-in-out infinite;z-index:3;pointer-events:none}@keyframes dsShimmer{0%,to{box-shadow:0 0 3px #ffd70033;opacity:.4}50%{box-shadow:0 0 10px #ffd70080;opacity:1}}.effect-frozen{animation:frozenShiver .12s linear infinite!important;filter:brightness(1.25) saturate(.4) hue-rotate(180deg)!important}@keyframes frozenShiver{0%,to{transform:translate(0)}33%{transform:translate(-1px)}66%{transform:translate(1px)}}.effect-stealth{animation:stealthPulse 2.5s ease-in-out infinite!important}@keyframes stealthPulse{0%,to{opacity:.2;filter:blur(.5px)}50%{opacity:.4;filter:blur(0)}}.effect-ward:before{content:"";position:absolute;inset:-3px;border:2px solid rgba(168,85,245,.4);border-radius:6px;animation:wardGlow 2s ease-in-out infinite;z-index:3;pointer-events:none}@keyframes wardGlow{0%,to{box-shadow:0 0 4px #a855f533}50%{box-shadow:0 0 8px #a855f566}}.anim-layer{position:absolute;top:0;left:0;width:100%;height:100%;pointer-events:none;z-index:45;overflow:hidden}.anim-el{position:absolute;pointer-events:none}.anim-slash{width:40px;height:40px;animation:slashAnim .35s ease-out forwards}.anim-proj{width:10px;height:10px;border-radius:50%;animation:projMove var(--dur, .4s) linear forwards}.anim-burst{width:50px;height:50px;border-radius:50%;animation:burstAnim .45s ease-out forwards}.anim-death{width:30px;height:30px;animation:deathFly .4s ease-out forwards}.anim-heal{width:8px;height:8px;border-radius:50%;background:#4f4;animation:healRise .6s ease-out forwards}.anim-aoe{position:absolute;top:0;left:0;width:100%;height:100%;animation:aoeFlash .3s ease-out forwards}@keyframes slashAnim{0%{transform:scale(.5) rotate(-30deg);opacity:1}to{transform:scale(1.3) rotate(30deg);opacity:0}}@keyframes projMove{0%{transform:translate(var(--sx,0),var(--sy,0));opacity:1}to{transform:translate(var(--ex,0),var(--ey,0));opacity:.6}}@keyframes burstAnim{0%{transform:scale(.2);opacity:.9}60%{transform:scale(1.2);opacity:.6}to{transform:scale(1.5);opacity:0}}@keyframes deathFly{0%{transform:translate(0) scale(1);opacity:1}to{transform:translate(var(--dx,10px),var(--dy,-20px)) scale(.3);opacity:0}}@keyframes healRise{0%{transform:translateY(0);opacity:.9}to{transform:translateY(-30px);opacity:0}}@keyframes aoeFlash{0%{opacity:.35}to{opacity:0}}.drag-ghost{position:fixed;pointer-events:none;z-index:300;opacity:.85;transform:rotate(-3deg) scale(.9);filter:drop-shadow(0 4px 12px rgba(0,0,0,.6));transition:none}:root{--color-gold: #D4A843;--color-gold-light: #E8C97A;--color-gold-dark: #A6822A;--color-blue: #4A4F8C;--color-blue-light: #6A70B8;--color-blue-dark: #2A2D5C;--color-navy: #2A2D4A;--color-navy-light: #3A3D6A;--color-navy-dark: #1A1B2E;--color-mana: #4A9EFF;--color-success: #4ADE80;--color-danger: #F87171;--color-warning: #FBBF24;--color-bg: #0A0B14;--color-surface: #1A1B2E;--color-surface-light: #2A2D4A;--color-border: #3A3D5C;--color-p1: #4A9EFF;--color-p2: #F87171;--color-fire: #F87171;--color-water: #4A9EFF;--color-earth: #A3A35A;--color-air: #A78BFA;--color-shadow: #9CA3AF;--color-nature: #4ADE80;--color-arcane: #F472B6;--font-header: "Cinzel", "Georgia", serif;--font-body: "Inter", "Roboto", sans-serif;--font-mono: "Roboto Mono", monospace;--text-xs: .75rem;--text-sm: .875rem;--text-base: 1rem;--text-lg: 1.125rem;--text-xl: 1.25rem;--text-2xl: 1.5rem;--text-3xl: 1.875rem;--text-4xl: 2.25rem;--space-1: .25rem;--space-2: .5rem;--space-3: .75rem;--space-4: 1rem;--space-5: 1.25rem;--space-6: 1.5rem;--space-8: 2rem;--space-10: 2.5rem;--space-12: 3rem;--radius-sm: 4px;--radius-md: 8px;--radius-lg: 12px;--radius-xl: 16px;--radius-full: 9999px;--shadow-sm: 0 1px 2px rgba(0, 0, 0, .3);--shadow-md: 0 4px 6px rgba(0, 0, 0, .4);--shadow-lg: 0 10px 15px rgba(0, 0, 0, .5);--shadow-xl: 0 20px 25px rgba(0, 0, 0, .6);--shadow-gold: 0 0 20px rgba(212, 168, 67, .4);--shadow-mana: 0 0 20px rgba(74, 158, 255, .4);--transition-fast: .15s ease;--transition-normal: .3s ease;--transition-slow: .5s ease;--z-base: 0;--z-dropdown: 100;--z-sticky: 200;--z-modal: 300;--z-overlay: 400;--z-tooltip: 500}*{margin:0;padding:0;box-sizing:border-box}html{font-size:16px;-webkit-font-smoothing:antialiased;-moz-osx-font-smoothing:grayscale}body{font-family:var(--font-body);background:var(--color-bg);color:#fff;overflow:hidden;height:100vh;width:100vw}#root{height:100%;width:100%}.text-gold{color:var(--color-gold)}.text-mana{color:var(--color-mana)}.text-success{color:var(--color-success)}.text-danger{color:var(--color-danger)}.text-p1{color:var(--color-p1)}.text-p2{color:var(--color-p2)}.bg-surface{background:var(--color-surface)}.bg-surface-light{background:var(--color-surface-light)}.scrollbar-hide{-ms-overflow-style:none;scrollbar-width:none}.scrollbar-hide::-webkit-scrollbar{display:none}.animate-pulse{animation:pulse 2s cubic-bezier(.4,0,.6,1) infinite}@keyframes pulse{0%,to{opacity:1}50%{opacity:.7}}@media(prefers-reduced-motion:reduce){.animate-card-draw-v2,.animate-card-play-v2,.animate-unit-attack-v2,.animate-unit-damage-v2,.animate-unit-death-v2,.animate-unit-spawn-v2,.animate-energy-crystal,.animate-energy-crystal-active,.animate-phase-slide-in,.animate-phase-slide-out,.animate-phase-name,.animate-turn-indicator,.animate-victory-v2,.animate-float-gentle,.animate-shake-v2,.hp-bar-fill{animation:none!important;transition:opacity .2s ease!important}.hp-bar-fill{transition:width .2s ease,opacity .2s ease!important}}@keyframes cardDrawFlip{0%{transform:perspective(1000px) rotateY(-90deg) translate(-200px) scale(.5);opacity:0;filter:brightness(.5)}30%{transform:perspective(1000px) rotateY(-45deg) translate(-100px) scale(.7);opacity:.6;filter:brightness(.8)}60%{transform:perspective(1000px) rotateY(10deg) translate(20px) scale(1.05);opacity:.9;filter:brightness(1.1)}80%{transform:perspective(1000px) rotateY(-5deg) translate(-10px) scale(1.02);opacity:1}to{transform:perspective(1000px) rotateY(0) translate(0) scale(1);opacity:1;filter:brightness(1)}}@keyframes cardDrawShadow{0%{box-shadow:-20px 20px 40px #00000080}50%{box-shadow:0 30px 60px #0006}to{box-shadow:0 10px 30px #0000004d}}.animate-card-draw-v2{animation:cardDrawFlip .6s cubic-bezier(.34,1.56,.64,1) forwards,cardDrawShadow .6s ease-out forwards;transform-style:preserve-3d;backface-visibility:hidden;will-change:transform,opacity,filter}@keyframes deckGlow{0%,to{box-shadow:0 0 20px #d4a8434d}50%{box-shadow:0 0 40px #d4a84399,0 0 60px #d4a8434d}}.deck-drawing{animation:deckGlow .6s ease-in-out}@keyframes cardPlayFly{0%{transform:scale(1) rotate(0) translateY(0);opacity:1;filter:brightness(1)}20%{transform:scale(1.15) rotate(-5deg) translateY(-30px);filter:brightness(1.3) drop-shadow(0 20px 40px rgba(212,168,67,.5))}50%{transform:scale(.9) rotate(3deg) translateY(-100px);opacity:.8;filter:brightness(1.5)}80%{transform:scale(.3) rotate(10deg) translateY(-200px);opacity:.3}to{transform:scale(0) rotate(15deg) translateY(-250px);opacity:0}}@keyframes cardPlayTrail{0%{opacity:.6;transform:scale(1)}to{opacity:0;transform:scale(.5) translateY(-100px)}}.animate-card-play-v2{animation:cardPlayFly .7s cubic-bezier(.4,0,.2,1) forwards;transform-origin:center bottom;will-change:transform,opacity,filter}.card-play-trail{position:absolute;inset:0;background:inherit;border-radius:inherit;pointer-events:none;animation:cardPlayTrail .4s ease-out forwards}@keyframes unitAttackLunge{0%{transform:translate(0) scale(1);filter:brightness(1)}15%{transform:translate(-8px) scale(.95) rotate(-2deg);filter:brightness(1.1)}35%{transform:translate(40px) scale(1.15) rotate(5deg);filter:brightness(1.4) drop-shadow(0 0 20px rgba(255,200,100,.8))}55%{transform:translate(50px) scale(1.1) rotate(3deg);filter:brightness(1.3)}75%{transform:translate(-5px) scale(1.05) rotate(-1deg);filter:brightness(1.1)}to{transform:translate(0) scale(1) rotate(0);filter:brightness(1)}}@keyframes attackImpact{0%{transform:scale(0);opacity:1}50%{transform:scale(1.5);opacity:.6}to{transform:scale(2);opacity:0}}.animate-unit-attack-v2{animation:unitAttackLunge .5s cubic-bezier(.34,1.56,.64,1);transform-origin:center center;will-change:transform,filter;z-index:100}.attack-impact-effect{position:absolute;width:60px;height:60px;border-radius:50%;background:radial-gradient(circle,rgba(255,200,100,.8) 0%,transparent 70%);pointer-events:none;animation:attackImpact .4s ease-out forwards}.animate-unit-attack-right{--attack-direction: 1}.animate-unit-attack-left{--attack-direction: -1}@keyframes unitDamageFlash{0%{filter:grayscale(0) brightness(1);transform:translate(0)}10%{filter:grayscale(.3) brightness(2) sepia(1) hue-rotate(-50deg) saturate(3);transform:translate(-12px) rotate(-3deg)}25%{filter:grayscale(.5) brightness(1.8) sepia(1) hue-rotate(-50deg) saturate(2.5);transform:translate(12px) rotate(3deg)}40%{filter:grayscale(.3) brightness(1.5) sepia(.8) hue-rotate(-40deg) saturate(2);transform:translate(-8px) rotate(-2deg)}55%{filter:grayscale(.2) brightness(1.3) sepia(.5) hue-rotate(-30deg) saturate(1.5);transform:translate(8px) rotate(2deg)}70%{filter:grayscale(.1) brightness(1.1) sepia(.3) hue-rotate(-20deg) saturate(1.2);transform:translate(-4px) rotate(-1deg)}85%{filter:grayscale(.05) brightness(1.05);transform:translate(4px) rotate(1deg)}to{filter:grayscale(0) brightness(1);transform:translate(0) rotate(0)}}@keyframes damageNumberPopup{0%{transform:translateY(0) scale(.5);opacity:0}20%{transform:translateY(-30px) scale(1.2);opacity:1}60%{transform:translateY(-50px) scale(1);opacity:.8}to{transform:translateY(-70px) scale(.8);opacity:0}}.animate-unit-damage-v2{animation:unitDamageFlash .6s ease-out;will-change:transform,filter}.damage-number{position:absolute;top:-20px;left:50%;transform:translate(-50%);font-family:var(--font-header);font-size:24px;font-weight:700;color:#f44;text-shadow:0 0 10px rgba(255,0,0,.8),2px 2px 4px rgba(0,0,0,.8);pointer-events:none;animation:damageNumberPopup 1s ease-out forwards;z-index:200}.damage-shield-effect{position:absolute;inset:-10px;border:3px solid rgba(100,200,255,.8);border-radius:12px;animation:shieldBreak .5s ease-out forwards;pointer-events:none}@keyframes shieldBreak{0%{transform:scale(1);opacity:1;border-width:3px}50%{transform:scale(1.2);opacity:.6;border-width:1px}to{transform:scale(1.5);opacity:0;border-width:0}}@keyframes unitDeathFade{0%{transform:scale(1) rotate(0);opacity:1;filter:brightness(1) grayscale(0)}25%{transform:scale(.95) rotate(-5deg);filter:brightness(.7) grayscale(.3)}50%{transform:scale(.85) rotate(5deg);opacity:.7;filter:brightness(.5) grayscale(.6)}75%{transform:scale(.6) rotate(15deg);opacity:.3;filter:brightness(.3) grayscale(.8)}to{transform:scale(0) rotate(45deg);opacity:0;filter:brightness(0) grayscale(1)}}@keyframes deathParticle{0%{transform:translate(0) scale(1) rotate(0);opacity:1}to{transform:translate(var(--dx),var(--dy)) scale(0) rotate(var(--rot));opacity:0}}@keyframes deathSoulRise{0%{transform:translateY(0) scale(1);opacity:.6;filter:blur(0)}to{transform:translateY(-100px) scale(.3);opacity:0;filter:blur(8px)}}.animate-unit-death-v2{animation:unitDeathFade .8s cubic-bezier(.4,0,.2,1) forwards;will-change:transform,opacity,filter;pointer-events:none}.death-particle{position:absolute;width:8px;height:8px;border-radius:50%;pointer-events:none;animation:deathParticle .8s ease-out forwards;will-change:transform,opacity}.death-soul{position:absolute;width:40px;height:60px;background:radial-gradient(ellipse at center,rgba(200,200,255,.4) 0%,transparent 70%);border-radius:50%;pointer-events:none;animation:deathSoulRise 1.2s ease-out forwards;will-change:transform,opacity,filter}@keyframes hpBarPulse{0%,to{filter:brightness(1)}50%{filter:brightness(1.3)}}@keyframes hpBarDamage{0%{width:var(--hp-prev);background:linear-gradient(90deg,#f44,#f66)}30%{filter:brightness(1.5);box-shadow:0 0 20px #f44c}to{width:var(--hp-current);background:var(--hp-color)}}@keyframes hpBarHeal{0%{width:var(--hp-prev);background:linear-gradient(90deg,#4f4,#6f6)}50%{filter:brightness(1.5);box-shadow:0 0 20px #4f4c}to{width:var(--hp-current);background:var(--hp-color)}}.hp-bar-container{position:relative;background:#00000080;border-radius:6px;overflow:hidden;transform:translateZ(0)}.hp-bar-fill{height:100%;border-radius:6px;transition:width .4s cubic-bezier(.4,0,.2,1);will-change:width;position:relative;overflow:hidden}.hp-bar-fill:after{content:"";position:absolute;top:0;left:0;right:0;height:40%;background:linear-gradient(180deg,rgba(255,255,255,.3),transparent);border-radius:6px 6px 0 0}.hp-bar-damage{animation:hpBarDamage .5s ease-out}.hp-bar-heal{animation:hpBarHeal .5s ease-out}.hp-bar-low{animation:hpBarPulse 1s ease-in-out infinite}.hp-change-indicator{position:absolute;right:-30px;top:50%;transform:translateY(-50%);font-family:var(--font-mono);font-size:12px;font-weight:700;animation:hpChangeFloat 1s ease-out forwards;pointer-events:none}.hp-change-indicator.damage{color:#f44}.hp-change-indicator.heal{color:#4f4}@keyframes hpChangeFloat{0%{opacity:1;transform:translateY(-50%) translate(0)}to{opacity:0;transform:translateY(-50%) translate(20px)}}@keyframes energyCrystalPulse{0%,to{transform:scale(1);filter:drop-shadow(0 0 10px rgba(74,158,255,.5))}25%{transform:scale(1.05);filter:drop-shadow(0 0 20px rgba(74,158,255,.7))}50%{transform:scale(1);filter:drop-shadow(0 0 30px rgba(74,158,255,.9)) brightness(1.2)}75%{transform:scale(1.02);filter:drop-shadow(0 0 15px rgba(74,158,255,.6))}}@keyframes energyCrystalGlow{0%,to{box-shadow:0 0 20px #4a9eff66,inset 0 0 20px #4a9eff33}50%{box-shadow:0 0 40px #4a9effb3,0 0 60px #4a9eff66,inset 0 0 30px #4a9eff66}}@keyframes energyCrystalSpin{0%{transform:rotateY(0)}to{transform:rotateY(360deg)}}@keyframes energyGainBurst{0%{transform:scale(.8);opacity:0}50%{transform:scale(1.3);opacity:1;filter:brightness(1.5) drop-shadow(0 0 30px rgba(74,158,255,1))}to{transform:scale(1);opacity:1}}.animate-energy-crystal{animation:energyCrystalPulse 2s ease-in-out infinite;will-change:transform,filter;transform-style:preserve-3d}.animate-energy-crystal-active{animation:energyCrystalPulse 1s ease-in-out infinite,energyCrystalGlow 1s ease-in-out infinite}.animate-energy-gain{animation:energyGainBurst .5s cubic-bezier(.34,1.56,.64,1)}.energy-crystal-inner{animation:energyCrystalSpin 4s linear infinite;transform-style:preserve-3d}@keyframes energyNumberChange{0%{transform:scale(1);color:var(--color-mana)}50%{transform:scale(1.3);color:#fff;text-shadow:0 0 20px rgba(74,158,255,1)}to{transform:scale(1);color:var(--color-mana)}}.animate-energy-change{animation:energyNumberChange .4s ease-out;display:inline-block}@keyframes phaseSlideIn{0%{transform:translate(-100%) skew(-10deg);opacity:0}60%{transform:translate(10%) skew(-5deg);opacity:1}to{transform:translate(0) skew(0);opacity:1}}@keyframes phaseSlideOut{0%{transform:translate(0) skew(0);opacity:1}to{transform:translate(100%) skew(10deg);opacity:0}}@keyframes phaseGlowBar{0%{background-position:-200% 0}to{background-position:200% 0}}@keyframes phaseNamePop{0%{transform:scale(.5);opacity:0}70%{transform:scale(1.1);opacity:1}to{transform:scale(1);opacity:1}}.animate-phase-slide-in{animation:phaseSlideIn .4s cubic-bezier(.4,0,.2,1) forwards;will-change:transform,opacity}.animate-phase-slide-out{animation:phaseSlideOut .3s cubic-bezier(.4,0,1,1) forwards;will-change:transform,opacity}.animate-phase-name{animation:phaseNamePop .5s cubic-bezier(.34,1.56,.64,1) forwards}.phase-transition-bar{background:linear-gradient(90deg,transparent 0%,var(--color-gold) 20%,var(--color-gold-light) 50%,var(--color-gold) 80%,transparent 100%);background-size:200% 100%;animation:phaseGlowBar 1.5s linear infinite;height:3px;width:100%}@keyframes phaseDotActive{0%,to{transform:scale(1);box-shadow:0 0 10px var(--color-gold)}50%{transform:scale(1.2);box-shadow:0 0 20px var(--color-gold),0 0 40px var(--color-gold)}}.phase-dot-active{animation:phaseDotActive 1.5s ease-in-out infinite}@keyframes unitSpawnV2{0%{transform:scale(0) translateY(-50px);filter:brightness(3) blur(10px);opacity:0}40%{transform:scale(1.3) translateY(10px);filter:brightness(2) blur(5px);opacity:.8}70%{transform:scale(.95) translateY(-5px);filter:brightness(1.2) blur(2px);opacity:.95}to{transform:scale(1) translateY(0);filter:brightness(1) blur(0);opacity:1}}.animate-unit-spawn-v2{animation:unitSpawnV2 .6s cubic-bezier(.34,1.56,.64,1);will-change:transform,filter,opacity}@keyframes turnIndicatorPulse{0%,to{box-shadow:0 0 #d4a84366;transform:scale(1)}50%{box-shadow:0 0 0 25px #d4a84300;transform:scale(1.02)}}.animate-turn-indicator{animation:turnIndicatorPulse 2s ease-in-out infinite}@keyframes victoryZoomV2{0%{transform:scale(0) rotate(-180deg);opacity:0}50%{transform:scale(1.3) rotate(10deg)}70%{transform:scale(.9) rotate(-5deg)}to{transform:scale(1) rotate(0);opacity:1}}.animate-victory-v2{animation:victoryZoomV2 1s cubic-bezier(.34,1.56,.64,1)}@keyframes gentleFloat{0%,to{transform:translateY(0)}50%{transform:translateY(-5px)}}.animate-float-gentle{animation:gentleFloat 3s ease-in-out infinite}@keyframes shakeV2{0%,to{transform:translate(0)}10%,30%,50%,70%,90%{transform:translate(-6px) rotate(-1deg)}20%,40%,60%,80%{transform:translate(6px) rotate(1deg)}}.animate-shake-v2{animation:shakeV2 .4s ease-in-out}.hover-lift-v2{transition:transform .3s cubic-bezier(.4,0,.2,1),box-shadow .3s ease,filter .3s ease;will-change:transform,box-shadow}.hover-lift-v2:hover{transform:translateY(-8px) scale(1.02);box-shadow:0 20px 40px #0006;filter:brightness(1.1)}.focus-ring-v2:focus{outline:none;box-shadow:0 0 0 3px #d4a84380;animation:focusPulse 1.5s ease-in-out infinite}@keyframes focusPulse{0%,to{box-shadow:0 0 0 3px #d4a84380}50%{box-shadow:0 0 0 5px #d4a8434d}}@keyframes spin{to{transform:rotate(360deg)}}.spinner-v2{animation:spin 1s linear infinite}@keyframes particleFloat{0%{transform:translateY(0) translate(0) scale(1);opacity:1}to{transform:translateY(var(--float-y, -100px)) translate(var(--float-x, 20px)) scale(0);opacity:0}}@keyframes sparkleTwinkle{0%,to{opacity:1;transform:scale(1) rotate(0)}50%{opacity:.5;transform:scale(.7) rotate(180deg)}}@keyframes emberRise{0%{transform:translateY(0) translate(0) scale(1);opacity:1}to{transform:translateY(-150px) translate(var(--drift, 30px)) scale(.3);opacity:0}}@keyframes confettiFall{0%{transform:translateY(-20px) rotate(0) scale(1);opacity:1}to{transform:translateY(100vh) rotate(720deg) scale(.5);opacity:0}}.animate-particle{animation:particleFloat var(--duration, 1s) ease-out forwards;will-change:transform,opacity}.animate-sparkle{animation:sparkleTwinkle var(--duration, 1s) ease-in-out infinite}.animate-ember{animation:emberRise var(--duration, 2s) ease-out forwards}.animate-confetti{animation:confettiFall var(--duration, 3s) ease-out forwards}@keyframes damageFloatUp{0%{transform:translate(-50%,-50%) scale(.5);opacity:0}15%{transform:translate(-50%,-80%) scale(1.3);opacity:1}40%{transform:translate(-50%,-120%) scale(1.1)}to{transform:translate(-50%,-200%) scale(.8);opacity:0}}@keyframes criticalBounce{0%{transform:translate(-50%,-50%) scale(0) rotate(-10deg);opacity:0}20%{transform:translate(-50%,-100%) scale(1.6) rotate(5deg);opacity:1}40%{transform:translate(-50%,-150%) scale(1.4) rotate(-3deg)}60%{transform:translate(-50%,-180%) scale(1.5) rotate(2deg)}80%{transform:translate(-50%,-200%) scale(1.2) rotate(-1deg);opacity:.9}to{transform:translate(-50%,-250%) scale(.6) rotate(0);opacity:0}}@keyframes healFloatUp{0%{transform:translate(-50%,-50%) scale(.5);opacity:0}25%{transform:translate(-50%,-90%) scale(1.4);opacity:1}to{transform:translate(-50%,-180%) scale(1);opacity:0}}@keyframes missTextFloat{0%{transform:translate(-50%,-50%) scale(.8);opacity:0}30%{transform:translate(-50%,-90%) scale(1.2);opacity:1}60%{transform:translate(-50%,-110%) scale(1);opacity:.8}to{transform:translate(-50%,-130%) scale(.9);opacity:0}}.damage-number{position:fixed;pointer-events:none;z-index:9999;font-family:var(--font-header),Cinzel,Georgia,serif;font-weight:700;text-shadow:0 0 20px currentColor}.damage-number-damage{animation:damageFloatUp 1.2s ease-out forwards;color:#f87171}.damage-number-critical{animation:criticalBounce 1.5s ease-out forwards;color:gold;font-size:48px}.damage-number-heal{animation:healFloatUp 1.3s ease-out forwards;color:#4ade80}.damage-number-miss{animation:missTextFloat 1.2s ease-out forwards;color:#9ca3af}@keyframes screenShakeLight{0%,to{transform:translate(0)}10%{transform:translate(-2px,1px)}20%{transform:translate(3px,-2px)}30%{transform:translate(-3px,2px)}40%{transform:translate(2px,-1px)}50%{transform:translate(-2px,-2px)}60%{transform:translate(1px,2px)}70%{transform:translate(-1px,-1px)}80%{transform:translate(2px,1px)}90%{transform:translate(-2px,2px)}}@keyframes screenShakeMedium{0%,to{transform:translate(0)}10%{transform:translate(-5px,3px)}20%{transform:translate(7px,-5px)}30%{transform:translate(-8px,5px)}40%{transform:translate(6px,-3px)}50%{transform:translate(-5px,-5px)}60%{transform:translate(4px,5px)}70%{transform:translate(-3px,-3px)}80%{transform:translate(5px,3px)}90%{transform:translate(-5px,5px)}}@keyframes screenShakeHeavy{0%,to{transform:translate(0) rotate(0)}10%{transform:translate(-10px,5px) rotate(-1deg)}20%{transform:translate(15px,-8px) rotate(2deg)}30%{transform:translate(-15px,8px) rotate(-2deg)}40%{transform:translate(12px,-5px) rotate(1deg)}50%{transform:translate(-10px,-10px) rotate(-1deg)}60%{transform:translate(8px,10px) rotate(2deg)}70%{transform:translate(-6px,-6px) rotate(-1deg)}80%{transform:translate(10px,5px) rotate(1deg)}90%{transform:translate(-10px,10px) rotate(-2deg)}}.screen-shake-light{animation:screenShakeLight .5s ease-in-out}.screen-shake-medium{animation:screenShakeMedium .6s ease-in-out}.screen-shake-heavy{animation:screenShakeHeavy .8s ease-in-out}@keyframes turnFlash{0%{opacity:0;transform:scale(.8)}20%{opacity:1;transform:scale(1.1)}80%{opacity:1;transform:scale(1)}to{opacity:0;transform:scale(1.2)}}@keyframes turnTextReveal{0%{opacity:0;transform:translateY(50px) scale(.8);filter:blur(20px)}30%{opacity:1;transform:translateY(0) scale(1.1);filter:blur(0)}50%{transform:translateY(0) scale(1)}80%{opacity:1;transform:translateY(0) scale(1)}to{opacity:0;transform:translateY(-30px) scale(.9);filter:blur(10px)}}@keyframes turnLineExpand{0%{width:0;opacity:0}30%{width:300px;opacity:1}70%{width:300px;opacity:1}to{width:400px;opacity:0}}.turn-transition-overlay .turn-transition-flash{animation:turnFlash 2s ease-out forwards}.turn-transition-overlay .turn-transition-text{animation:turnTextReveal 2s ease-out forwards}.turn-transition-overlay .turn-transition-lines div{animation:turnLineExpand 2s ease-out forwards}@keyframes victoryConfettiBurst{0%{transform:translate(0) rotate(0) scale(1);opacity:1}to{transform:translate(var(--end-x, 200px),var(--end-y, 300px)) rotate(var(--rotation, 720deg)) scale(.3);opacity:0}}@keyframes trophyShine{0%{filter:brightness(1) drop-shadow(0 0 20px rgba(212,168,67,.5))}50%{filter:brightness(1.3) drop-shadow(0 0 40px rgba(212,168,67,.8))}to{filter:brightness(1) drop-shadow(0 0 20px rgba(212,168,67,.5))}}@keyframes victoryGlowPulse{0%,to{text-shadow:0 0 20px rgba(212,168,67,.5),0 0 40px rgba(212,168,67,.3),0 0 60px rgba(212,168,67,.2)}50%{text-shadow:0 0 40px rgba(212,168,67,.8),0 0 80px rgba(212,168,67,.5),0 0 120px rgba(212,168,67,.3)}}.animate-victory-confetti{animation:victoryConfettiBurst 2s ease-out forwards}.animate-trophy-shine{animation:trophyShine 2s ease-in-out infinite}.animate-victory-glow{animation:victoryGlowPulse 2s ease-in-out infinite}@keyframes unitSelectedPulse{0%,to{box-shadow:0 0 #d4a84399,inset 0 0 20px #d4a8434d}50%{box-shadow:0 0 20px 5px #d4a84366,inset 0 0 30px #d4a84380}}@keyframes validTargetEnemy{0%,to{box-shadow:0 0 #f8717199,inset 0 0 15px #f871714d}50%{box-shadow:0 0 15px 3px #f8717180,inset 0 0 25px #f8717166}}@keyframes validTargetFriendly{0%,to{box-shadow:0 0 #4ade8099,inset 0 0 15px #4ade804d}50%{box-shadow:0 0 15px 3px #4ade8080,inset 0 0 25px #4ade8066}}.animate-unit-selected{animation:unitSelectedPulse 1.5s ease-in-out infinite}.animate-valid-target-enemy{animation:validTargetEnemy 1.2s ease-in-out infinite}.animate-valid-target-friendly{animation:validTargetFriendly 1.2s ease-in-out infinite}@keyframes selectionRotate{0%{background-position:0% 50%}to{background-position:200% 50%}}.selection-ring{background:linear-gradient(90deg,#d4a843,#e8c97a,gold,#e8c97a,#d4a843);background-size:200% 100%;animation:selectionRotate 2s linear infinite}@keyframes cardGlowPulse{0%,to{box-shadow:0 0 20px var(--glow-color, rgba(212, 168, 67, .4)),0 10px 30px #00000080}50%{box-shadow:0 0 40px var(--glow-color, rgba(212, 168, 67, .6)),0 0 60px var(--glow-color, rgba(212, 168, 67, .3)),0 15px 40px #0009}}@keyframes cardShineSweep{0%{background-position:-200% 0}to{background-position:200% 0}}.card-shine:before{content:"";position:absolute;top:0;left:-100%;width:50%;height:100%;background:linear-gradient(90deg,transparent,rgba(255,255,255,.3),transparent);transform:skew(-25deg);animation:cardShineSweep 3s ease-in-out infinite;pointer-events:none;z-index:10}.animate-card-glow{animation:cardGlowPulse 1.5s ease-in-out infinite}.grid-cell.selected:after{content:"";position:absolute;inset:-3px;border-radius:10px;border:3px solid #D4A843;box-shadow:0 0 20px #d4a84399,inset 0 0 20px #d4a8434d;animation:unitSelectedPulse 1.5s ease-in-out infinite;pointer-events:none;z-index:10}.grid-cell.valid-target-enemy:after{content:"";position:absolute;inset:-2px;border-radius:10px;border:2px solid #F87171;box-shadow:0 0 15px #f8717180,inset 0 0 15px #f871714d;animation:validTargetEnemy 1.2s ease-in-out infinite;pointer-events:none;z-index:10}.grid-cell.valid-target-friendly:after{content:"";position:absolute;inset:-2px;border-radius:10px;border:2px solid #4ADE80;box-shadow:0 0 15px #4ade8080,inset 0 0 15px #4ade804d;animation:validTargetFriendly 1.2s ease-in-out infinite;pointer-events:none;z-index:10}@keyframes pulseGlow{0%,to{box-shadow:0 0 20px #d4a8434d}50%{box-shadow:0 0 40px #d4a84399}}.animate-pulse-glow{animation:pulseGlow 1.5s ease-in-out infinite}@media(prefers-reduced-motion:reduce){.animate-card-draw-v2,.animate-card-play-v2,.animate-unit-attack-v2,.animate-unit-damage-v2,.animate-unit-death-v2,.animate-unit-spawn-v2,.animate-energy-crystal,.animate-energy-crystal-active,.animate-phase-slide-in,.animate-phase-slide-out,.animate-phase-name,.animate-turn-indicator,.animate-victory-v2,.animate-float-gentle,.animate-shake-v2,.hp-bar-fill,.animate-particle,.animate-sparkle,.animate-ember,.animate-confetti,.damage-number,.screen-shake-light,.screen-shake-medium,.screen-shake-heavy,.turn-transition-overlay .turn-transition-flash,.turn-transition-overlay .turn-transition-text,.turn-transition-overlay .turn-transition-lines div,.animate-victory-confetti,.animate-trophy-shine,.animate-victory-glow,.animate-unit-selected,.animate-valid-target-enemy,.animate-valid-target-friendly,.selection-ring,.card-shine:before,.animate-card-glow,.grid-cell.selected:after,.grid-cell.valid-target-enemy:after,.grid-cell.valid-target-friendly:after,.animate-pulse-glow{animation:none!important;transition:opacity .2s ease!important}.hp-bar-fill{transition:width .2s ease,opacity .2s ease!important}}.gpu-accelerated{transform:translateZ(0);backface-visibility:hidden;perspective:1000px}.will-animate{will-change:transform,opacity,filter;contain:layout style}.animation-paused{animation-play-state:paused!important}.particle-container{position:fixed;inset:0;pointer-events:none;z-index:9999;overflow:hidden}@keyframes ripple-effect{to{transform:scale(2.5);opacity:0}}@keyframes ripple-fade{0%{transform:scale(0);opacity:.5}to{transform:scale(2);opacity:0}}@keyframes swipe-indicator{0%,to{opacity:0;transform:translate(0)}50%{opacity:1;transform:translate(var(--swipe-direction, 10px))}}@keyframes pinch-zoom-indicator{0%,to{opacity:0;transform:scale(1)}50%{opacity:1;transform:scale(1.2)}}@keyframes fade-in-out{0%{opacity:0;transform:translate(-50%,-50%) scale(.8)}50%{opacity:1;transform:translate(-50%,-50%) scale(1)}to{opacity:0;transform:translate(-50%,-50%) scale(.8)}}@keyframes victory-pulse{0%,to{transform:scale(1)}50%{transform:scale(1.05)}}.touch-no-select{-webkit-touch-callout:none;-webkit-user-select:none;-khtml-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none}.touch-no-highlight{-webkit-tap-highlight-color:transparent;tap-highlight-color:transparent}.touch-scroll{-webkit-overflow-scrolling:touch;overflow-scrolling:touch}.touch-target-min{min-width:44px;min-height:44px}.touch-target-large{min-width:48px;min-height:48px}.btn-touch{min-height:44px;min-width:44px;padding:12px 16px;border-radius:8px;font-size:16px;font-weight:500;touch-action:manipulation;-webkit-tap-highlight-color:transparent;transition:transform .1s ease,background-color .2s ease;cursor:pointer;border:none;outline:none;position:relative;overflow:hidden}.btn-touch:active{transform:scale(.96)}.btn-touch:disabled{opacity:.5;cursor:not-allowed;transform:none}.btn-ripple{position:relative;overflow:hidden}.btn-ripple:after{content:"";position:absolute;top:50%;left:50%;width:100px;height:100px;background:#ffffff4d;border-radius:50%;transform:translate(-50%,-50%) scale(0);opacity:0;pointer-events:none}.btn-ripple:active:after{animation:ripple-fade .4s ease-out}.card-drag-ghost{position:absolute;pointer-events:none;z-index:1000;opacity:.9;transform:scale(1.1) rotate(5deg);box-shadow:0 20px 40px #00000080}.card-drop-zone{background:#4ade8033;border:2px dashed var(--color-success);animation:pulse-border 1s ease-in-out infinite}@keyframes pulse-border{0%,to{border-color:var(--color-success);box-shadow:0 0 10px #4ade804d}50%{border-color:#4ade8080;box-shadow:0 0 20px #4ade8080}}.grid-cell-touch{-webkit-tap-highlight-color:transparent;touch-action:manipulation;min-width:40px;min-height:40px}.grid-cell-touch:active{transform:scale(.95);transition:transform .1s ease}.grid-cell-deployable{position:relative}.grid-cell-deployable:after{content:"+";position:absolute;top:50%;left:50%;transform:translate(-50%,-50%);font-size:24px;color:var(--color-success);opacity:.5;pointer-events:none}.swipe-hint{display:flex;align-items:center;justify-content:center;gap:8px;font-size:12px;color:#666;padding:4px 0}.swipe-hint-arrow{animation:swipe-hint-bounce 1s ease-in-out infinite}@keyframes swipe-hint-bounce{0%,to{transform:translate(0)}50%{transform:translate(5px)}}@media(max-width:767px){.hide-mobile{display:none!important}.stack-mobile{flex-direction:column!important}.full-width-mobile{width:100%!important}}@media(min-width:768px){.hide-desktop{display:none!important}}@media(prefers-reduced-motion:reduce){*,*:before,*:after{animation-duration:.01ms!important;animation-iteration-count:1!important;transition-duration:.01ms!important;scroll-behavior:auto!important}.ripple-effect,.ripple-fade{display:none!important}}.touch-guard{position:fixed;inset:0;z-index:999;background:transparent;touch-action:none;pointer-events:auto}.touch-delay-pointer{pointer-events:none}.touch-delay-pointer.active{pointer-events:auto}.haptic-visual-feedback{position:relative}.haptic-visual-feedback:after{content:"";position:absolute;inset:0;background:radial-gradient(circle at center,rgba(255,255,255,.1) 0%,transparent 70%);opacity:0;transition:opacity .1s ease;pointer-events:none}.haptic-visual-feedback.trigger:after{opacity:1}.pinch-zoom-hint{position:absolute;top:50%;left:50%;transform:translate(-50%,-50%);padding:8px 16px;background:#000c;border-radius:20px;color:#fff;font-size:14px;pointer-events:none;animation:fade-in-out 2s ease forwards}.scrollbar-hide-touch{-ms-overflow-style:none;scrollbar-width:none;-webkit-overflow-scrolling:touch}.scrollbar-hide-touch::-webkit-scrollbar{display:none}.drag-preview{position:fixed;pointer-events:none;z-index:10000;opacity:.9;transform:scale(1.1);box-shadow:0 25px 50px #00000080}@media screen and (max-width:767px)and (orientation:portrait){.landscape-recommended:before{content:"ðŸ“± Rotate device for better experience";position:fixed;bottom:10px;left:50%;transform:translate(-50%);padding:8px 16px;background:#000c;border-radius:20px;font-size:12px;color:#fff;z-index:1000;animation:fade-in-out 3s ease forwards;animation-delay:1s}}@supports (padding-top: env(safe-area-inset-top)){.safe-area-top{padding-top:env(safe-area-inset-top)}.safe-area-bottom{padding-bottom:env(safe-area-inset-bottom)}.safe-area-left{padding-left:env(safe-area-inset-left)}.safe-area-right{padding-right:env(safe-area-inset-right)}}
