import{r as t,j as e,T as u,E as T,M as y}from"./index-DOiO6t_t.js";const g=t.memo(function({src:o,alt:s,className:r,style:n,fallback:i}){const[a,l]=t.useState(!1),[d,x]=t.useState(!1),h=t.useCallback(()=>l(!0),[]),b=t.useCallback(()=>x(!0),[]);return d&&i?e.jsx(e.Fragment,{children:i}):e.jsxs("div",{style:{position:"relative",...n},className:r,children:[!a&&!d&&e.jsx("div",{className:"art-shimmer",style:{position:"absolute",inset:0,borderRadius:n?.borderRadius}}),e.jsx("img",{src:o,alt:s,loading:"lazy",decoding:"async",style:{...n,opacity:a?1:0,transition:"opacity 0.3s ease",display:d?"none":"block"},onLoad:h,onError:b})]})}),R={sm:{width:80,height:80},md:{width:120,height:120},lg:{width:200,height:200},xl:{width:300,height:400}},S=t.memo(function({titanId:o,size:s="md",isActive:r}){const n=R[s],i=t.useMemo(()=>`/art/titans/${o.toLowerCase()}.png`,[o]),a=s==="xl"?16:"50%",l=t.useMemo(()=>({width:n.width,height:n.height,borderRadius:a,overflow:"hidden",position:"relative",border:r?"4px solid var(--color-gold)":"2px solid var(--color-border)",boxShadow:r?"0 0 30px rgba(212, 168, 67, 0.6)":"0 4px 20px rgba(0, 0, 0, 0.5)"}),[n.width,n.height,a,r]),d=t.useMemo(()=>e.jsx("div",{style:{width:"100%",height:"100%",display:"flex",alignItems:"center",justifyContent:"center",fontSize:n.width*.4,background:"var(--color-surface)"},children:"üõ°Ô∏è"}),[n.width]);return e.jsxs("div",{style:l,children:[e.jsx(g,{src:i,alt:`Titan ${o}`,style:{width:"100%",height:"100%",objectFit:"cover"},fallback:d}),r&&e.jsx("div",{className:"pulse-glow",style:{position:"absolute",inset:0,borderRadius:a,boxShadow:"inset 0 0 40px rgba(212, 168, 67, 0.3)"}})]})}),A={deploy:{boxShadow:"inset 0 0 0 3px #4ade80, 0 0 20px rgba(74, 222, 128, 0.4)"},move:{boxShadow:"inset 0 0 0 3px #4a9eff, 0 0 20px rgba(74, 158, 255, 0.4)"},attack:{boxShadow:"inset 0 0 0 3px #f87171, 0 0 20px rgba(248, 113, 113, 0.4)"},selected:{boxShadow:"inset 0 0 0 3px #d4a843, 0 0 20px rgba(212, 168, 67, 0.4)"}};t.memo(function({terrain:o,highlight:s,onClick:r}){const n=t.useMemo(()=>`/art/terrain/${o.toLowerCase()}.jpg`,[o]),i=t.useMemo(()=>({aspectRatio:"1",borderRadius:8,overflow:"hidden",position:"relative",cursor:r?"pointer":"default",transition:"transform 0.2s, box-shadow 0.2s",...s?A[s]:{}}),[s,r]),a=t.useMemo(()=>{const l=o.toLowerCase();return l==="forest"?"var(--color-success)":l==="volcano"?"var(--color-danger)":"var(--color-surface)"},[o]);return e.jsxs("div",{onClick:r,style:i,children:[e.jsx(g,{src:n,alt:`${o} terrain`,style:{width:"100%",height:"100%",objectFit:"cover"},fallback:e.jsx("div",{style:{width:"100%",height:"100%",background:a,opacity:.5}})}),e.jsx("div",{style:{position:"absolute",inset:0,background:"linear-gradient(135deg, rgba(255,255,255,0.1) 0%, transparent 50%, rgba(0,0,0,0.2) 100%)",pointerEvents:"none"}})]})});const f={common:"#6b7280",rare:"#4a9eff",epic:"#a855f7",legendary:"#d4a843"};t.memo(function({cardId:o,element:s,rarity:r="common",isPlayable:n,isSelected:i,onClick:a}){const l=t.useMemo(()=>`/art/cards/${o}.jpg`,[o]),d=t.useMemo(()=>({width:140,height:200,borderRadius:12,overflow:"hidden",position:"relative",cursor:a?"pointer":"default",border:`3px solid ${i?"#d4a843":f[r]}`,boxShadow:i?"0 0 30px rgba(212, 168, 67, 0.6)":n?`0 0 20px ${f[r]}40`:"0 4px 15px rgba(0, 0, 0, 0.3)",opacity:n||!a?1:.6,transform:i?"translateY(-10px) scale(1.05)":"none",transition:"all 0.3s cubic-bezier(0.4, 0, 0.2, 1)"}),[i,n,a,r]),x=t.useMemo(()=>o.replace(/-/g," ").replace(/\b\w/g,h=>h.toUpperCase()),[o]);return e.jsxs("div",{onClick:a,style:d,children:[e.jsx(g,{src:l,alt:`Card ${o}`,style:{width:"100%",height:"70%",objectFit:"cover"},fallback:e.jsx("div",{style:{width:"100%",height:"70%",background:"var(--color-surface)",display:"flex",alignItems:"center",justifyContent:"center",fontSize:48},children:"‚öîÔ∏è"})}),e.jsxs("div",{style:{height:"30%",background:"var(--color-surface)",padding:8,display:"flex",flexDirection:"column",justifyContent:"space-between"},children:[e.jsx("div",{style:{fontSize:12,fontWeight:"bold",color:"var(--color-gold)"},children:x}),e.jsx("div",{style:{fontSize:10,color:f[r],textTransform:"uppercase",letterSpacing:1},children:r})]})]})});const F=t.memo(function({type:o,children:s}){const r=t.useMemo(()=>`/art/bg/${o}.jpg`,[o]);return e.jsxs("div",{style:{position:"fixed",inset:0,overflow:"hidden"},children:[e.jsx(g,{src:r,alt:`${o} background`,style:{position:"absolute",inset:0,width:"100%",height:"100%",objectFit:"cover"},fallback:e.jsx("div",{style:{position:"absolute",inset:0,background:"radial-gradient(ellipse at center, #1a1b2e 0%, #0a0b14 100%)"}})}),e.jsx("div",{style:{position:"absolute",inset:0,background:"rgba(0, 0, 0, 0.4)",backdropFilter:"blur(2px)"}}),e.jsx("div",{style:{position:"relative",zIndex:1,height:"100%"},children:s})]})}),v=t.memo(function({player:o,titanId:s,isSelecting:r,onClick:n}){const i=t.useMemo(()=>u.find(h=>h.id===s),[s]),a=T[i.elem],l=t.useMemo(()=>({display:"flex",flexDirection:"column",alignItems:"center",gap:20,opacity:r?1:.6,transform:r?"scale(1)":"scale(0.95)",transition:"all 0.3s"}),[r]),d=o==="p1"?"var(--color-p1)":"var(--color-p2)",x=o==="p1"?"0 0 20px rgba(74,158,255,0.5)":"0 0 20px rgba(248,113,113,0.5)";return e.jsxs("div",{style:l,onClick:n,children:[e.jsxs("div",{style:{fontSize:14,color:d,fontWeight:"bold",letterSpacing:3,textShadow:x},children:["PLAYER ",o==="p1"?"1":"2"]}),e.jsx(S,{titanId:s,size:"xl",isActive:r}),e.jsxs("div",{style:{textAlign:"center",background:"rgba(0,0,0,0.6)",padding:"16px 32px",borderRadius:12,backdropFilter:"blur(10px)",border:"1px solid rgba(255,255,255,0.1)"},children:[e.jsx("div",{style:{fontFamily:"var(--font-header)",fontSize:28,color:"var(--color-gold)",marginBottom:4},children:i.name}),e.jsx("div",{style:{fontSize:12,color:a?.color,textTransform:"uppercase",letterSpacing:2},children:i.elem})]})]})}),E=t.memo(function({mapIdx:o,onSelect:s}){const r=y[o],n=t.useMemo(()=>["üå≤","‚õ∞Ô∏è","üåä","üèîÔ∏è","üêâ"],[]);return e.jsxs("div",{style:{background:"rgba(0,0,0,0.6)",padding:"20px",borderRadius:12,backdropFilter:"blur(10px)",border:"1px solid rgba(255,255,255,0.1)",width:250},children:[e.jsx("div",{style:{fontSize:11,color:"#888",textTransform:"uppercase",letterSpacing:2,marginBottom:12},children:"Battlefield"}),e.jsx("div",{style:{fontSize:18,fontWeight:"bold",color:"var(--color-gold)",marginBottom:4},children:r.name}),e.jsx("div",{style:{fontSize:12,color:"#888",marginBottom:12},children:r.desc}),e.jsx("div",{style:{display:"flex",gap:8,flexWrap:"wrap"},children:y.map((i,a)=>e.jsx("button",{onClick:()=>s(a),style:{width:40,height:40,borderRadius:6,border:o===a?"2px solid var(--color-gold)":"1px solid rgba(255,255,255,0.2)",background:o===a?"var(--color-gold)":"rgba(255,255,255,0.1)",cursor:"pointer",fontSize:16},title:i.name,children:n[a]},i.name))})]})}),B=t.memo(function({titan:o,isP1:s,isP2:r,onClick:n}){const i=s||r,a=t.useMemo(()=>s?"4px solid var(--color-p1)":r?"4px solid var(--color-p2)":"2px solid rgba(255,255,255,0.2)",[s,r]),l=t.useMemo(()=>s?"0 0 30px rgba(74,158,255,0.6)":r?"0 0 30px rgba(248,113,113,0.6)":"none",[s,r]);return e.jsxs("button",{onClick:n,style:{width:100,height:100,borderRadius:12,border:a,background:"rgba(0,0,0,0.5)",cursor:"pointer",position:"relative",transform:i?"scale(1.1)":"scale(1)",boxShadow:l,transition:"all 0.2s",overflow:"hidden",padding:0},children:[e.jsx(S,{titanId:o.id,size:"sm",isActive:i}),s&&e.jsx(j,{player:1}),r&&e.jsx(j,{player:2})]})}),j=t.memo(function({player:o}){const s=o===1?"var(--color-p1)":"var(--color-p2)";return e.jsx("div",{style:{position:"absolute",top:-8,right:-8,width:28,height:28,borderRadius:"50%",background:s,display:"flex",alignItems:"center",justifyContent:"center",fontSize:14,fontWeight:"bold",color:"#fff",border:"2px solid #000"},children:o})});function $({onStart:c,onBack:o}){const[s,r]=t.useState(u[0].id),[n,i]=t.useState(u[1].id),[a,l]=t.useState(0),[d,x]=t.useState("p1"),h=t.useCallback(()=>{c(s,n,a)},[c,s,n,a]),b=t.useCallback(()=>x("p1"),[]),w=t.useCallback(()=>x("p2"),[]),k=t.useCallback(p=>l(p),[]),m=t.useCallback(p=>{d==="p1"?r(p):i(p)},[d]),C=t.useMemo(()=>u.map(p=>{const M=s===p.id,z=n===p.id;return e.jsx(B,{titan:p,isP1:M,isP2:z,onClick:()=>m(p.id)},p.id)}),[s,n,m]);return e.jsx(F,{type:"character-select",children:e.jsxs("div",{style:{height:"100vh",width:"100vw",display:"flex",flexDirection:"column",padding:"20px 40px"},children:[e.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",paddingBottom:20,borderBottom:"1px solid rgba(255,255,255,0.1)"},children:[e.jsx("button",{onClick:o,style:{padding:"12px 24px",background:"rgba(0,0,0,0.5)",border:"1px solid rgba(255,255,255,0.2)",borderRadius:8,color:"#fff",fontSize:14,cursor:"pointer",backdropFilter:"blur(10px)"},children:"‚Üê Back"}),e.jsx("h1",{style:{fontFamily:"var(--font-header)",fontSize:48,color:"var(--color-gold)",textShadow:"0 0 40px rgba(212,168,67,0.5)",margin:0},children:"CHOOSE YOUR TITAN"}),e.jsx("button",{onClick:h,style:{padding:"16px 40px",background:"linear-gradient(135deg, var(--color-gold), #e8c97a)",border:"none",borderRadius:8,color:"#000",fontWeight:"bold",fontSize:18,cursor:"pointer",boxShadow:"0 0 30px rgba(212,168,67,0.4)"},className:"btn-pulse",children:"‚öîÔ∏è FIGHT!"})]}),e.jsxs("div",{style:{flex:1,display:"flex",alignItems:"center",justifyContent:"center",gap:60,padding:"40px 0"},children:[e.jsx(v,{player:"p1",titanId:s,isSelecting:d==="p1",onClick:b}),e.jsxs("div",{style:{display:"flex",flexDirection:"column",alignItems:"center",gap:30},children:[e.jsx("div",{className:"vs-pulse",style:{fontFamily:"var(--font-header)",fontSize:120,fontWeight:"bold",color:"var(--color-gold)",textShadow:"0 0 60px rgba(212,168,67,0.8)"},children:"VS"}),e.jsx(E,{mapIdx:a,onSelect:k})]}),e.jsx(v,{player:"p2",titanId:n,isSelecting:d==="p2",onClick:w})]}),e.jsx("div",{style:{display:"flex",justifyContent:"center",gap:16,padding:"20px 0"},children:C})]})})}export{$ as default};
